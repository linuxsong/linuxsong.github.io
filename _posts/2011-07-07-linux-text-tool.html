---
layout: post
status: publish
published: true
title: Linux下常用文本处理命令
author:
  display_name: LinuxSong
  login: xks
  email: linuxsong@gmail.com
  url: http://www.linuxsong.org
author_login: xks
author_email: linuxsong@gmail.com
author_url: http://www.linuxsong.org
excerpt: Linux下面有很多经典的非常有用的命令，其中处理文本的命令就有很多。这些小工具经过了几十年时间的洗礼，现在已经变成了经典，已经变成了Linux下面的标准，其实它们一直是遵循着Linux的标准。下面就让我们一起看看这些经典的Linux文本处理命令。
wordpress_id: 475
wordpress_url: http://www.linuxsong.org/?p=475
date: '2011-07-07 15:13:57 +0800'
date_gmt: '2011-07-07 07:13:57 +0800'
comments: []
---
<p><a href="http://www.linuxsong.org/category/linux/">Linux</a>下面有很多经典的非常有用的命令，其中处理文本的命令就有很多。这些小工具经过了几十年时间的洗礼，现在已经变成了经典，已经变成了Linux下面的标准，其实它们一直是遵循着Linux的标准。下面就让我们一起看看这些经典的Linux文本处理命令。</p>
<h3>一. sort</h3>
<p>文件排序, 通常用在管道中当过滤器来使用. 这个命令可以依据指定的关键字或指定的字符位置, 对文件行进行排序. 使用-m选项, 它将会合并预排序的输入文件. 想了解这个命令的全部参数请参考这个命令的info页.</p>
<p><!--more--></p>
<h3>二. tsort</h3>
<p>拓扑排序, 读取以空格分隔的有序对, 并且依靠输入模式进行排序.</p>
<h3>三. uniq</h3>
<p>这个过滤器将会删除一个已排序文件中的重复行. 这个命令经常出现在sort命令的管道后边.</p>
<h3>四. expand, unexpand</h3>
<p>expand命令将会把每个tab转化为一个空格. 这个命令经常用在管道中.</p>
<p>unexpand命令将会把每个空格转化为一个tab. 效果与expand命令相反.</p>
<h3>五. cut</h3>
<p>一个从文件中提取特定域的工具. 这个命令与awk中使用的print $N命令很相似, 但是更受限. 在脚本中使用cut命令会比使用awk命令来得容易一些. 最重要的选项就是-d(字段定界符)和-f(域分隔符)选项.</p>
<h3>六. paste</h3>
<p>将多个文件, 以每个文件一列的形式合并到一个文件中, 合并后文件中的每一列就是原来的一个文件. 与cut结合使用, 经常用于创建系统log文件.</p>
<h3>七. join</h3>
<p>这个命令与paste命令属于同类命令. 但是它能够完成某些特殊的目地. 这个强力工具能够以一种特殊的形式来合并两个文件, 这种特殊的形式本质上就是一个关联数据库的简单版本.</p>
<p>join命令只能够操作两个文件. 它可以将那些具有特定标记域(通常是一个数字标签)的行合并起来, 并且将结果输出到stdout. 被加入的文件应该事先根据标记域进行排序以便于能够正确的匹配.</p>
<h3>八. head</h3>
<p>把文件的头部内容打印到stdout上(默认为10行, 可以自己修改). 这个命令有一些比较有趣的选项.</p>
<h3>九. tail</h3>
<p>将一个文件结尾部分的内容输出到stdout中(默认为10行). 通常用来跟踪一个系统logfile的修改情况, 如果使用-f选项的话, 这个命令将会继续显示添加到文件中的行.</p>
<h3>十. wc</h3>
<p>wc可以统计文件或I/O流中的"单词数量":</p>
<h3>十一. fold</h3>
<p>将输入按照指定宽度进行折行. 这里有一个非常有用的选项-s, 这个选项可以使用空格进行断行(译者: 事实上只有外文才需要使用空格断行, 中文是不需要的)(请参考例子 12-23和例子 A-1).</p>
<h3>十二. fmt</h3>
<p>一个简单的文件格式器, 通常用在管道中, 将一个比较长的文本行输出进行"折行".</p>
<h3>十三. col</h3>
<p>这个命令用来滤除标准输入的反向换行符号. 这个工具还可以将空白用等价的tab来替换. col工具最主要的应用还是从特定的文本处理工具中过滤输出, 比如groff和tbl. (译者: 主要用来将man页转化为文本.)</p>
<h3>十四. column</h3>
<p>列格式化工具. 通过在合适的位置插入tab, 这个过滤工具会将列类型的文本转化为"易于打印"的表格式进行输出.</p>
<h3>十五. colrm</h3>
<p>列删除过滤器. 这个工具将会从文件中删除指定的列(列中的字符串)并且写到文件中, 如果指定的列不存在, 那么就回到stdout. colrm 2 4 &lt;filename将会删除filename文件中每行的第2到第4列之间的所有字符.</p>
<p>Caution: 如果这个文件包含tab和不可打印字符, 那将会引起不可预期的行为. 在这种情况下, 应该通过管道的手段使用expand和unexpand来预处理colrm.</p>
<h3>十六. nl</h3>
<p>计算行号过滤器. nl filename将会把filename文件的所有内容都输出到stdout上, 但是会在每个非空行的前面加上连续的行号. 如果没有filename参数, 那么就操作stdin.</p>
<p>nl命令的输出与cat -n非常相似, 然而, 默认情况下nl不会列出空行.</p>
<h3>十七. pr</h3>
<p>格式化打印过滤器. 这个命令会将文件(或stdout)分页, 将它们分成合适的小块以便于硬拷贝打印或者在屏幕上浏览. 使用这个命令的不同的参数可以完成好多任务, 比如对行和列的操作, 加入行, 设置页边, 计算行号, 添加页眉, 合并文件等等. pr命令集合了许多命令的功能, 比如nl, paste, fold, column, 和expand.</p>
<p>pr -o 5 --width=65 fileZZZ | more 这个命令对fileZZZ进行了比较好的分页, 并且打印到屏幕上. 文件的缩进被设置为5, 总宽度设置为65.</p>
<p>一个非常有用的选项-d, 强制隔行打印(与sed -G效果相同).</p>
<h3>十八. gettext</h3>
<p>GNU gettext包是专门用来将程序的输出翻译或者本地化为不同国家语言的工具集. 在最开始的时候仅仅支持C语言, 现在已经支持了相当数量的其它程序语言和脚本语言.</p>
<p>想要查看gettext程序如何在shell脚本中使用. 请参考info页.</p>
<h3>十九. msgfmt</h3>
<p>一个产生二进制消息目录的程序. 这个命令主要用来本地化.</p>
<h3>二十. iconv</h3>
<p>一个可以将文件转化为不同编码格式(字符集)的工具. 这个命令主要用来本地化.</p>
<h3>二十一. recode</h3>
<p>可以认为这个命令是上边iconv命令的专业版本. 这个非常灵活的并可以把整个文件都转换为不同编码格式的工具并不是Linux标准安装的一部分.</p>
<h3>二十二. TeX, gs</h3>
<p>TeX和Postscript都是文本标记语言, 用来对打印和格式化的视频显示进行预拷贝.</p>
<p>TeX是Donald Knuth精心制作的排版系统. 通常情况下, 通过编写脚本的手段来把所有的选项和参数封装起来一起传到标记语言中是一件很方便的事情.</p>
<p>Ghostscript (gs) 是一个 遵循GPL的Postscript解释器.</p>
<h3>二十三. enscript</h3>
<p>将纯文本文件转换为PostScript的工具</p>
<p>比如, enscript filename.txt -p filename.ps 产生一个 PostScript 输出文件filename.ps.</p>
<h3>二十四. groff, tbl, eqn</h3>
<p>另一种文本标记和显示格式化语言是groff. 这是一个对传统UNIX roff/troff显示和排版包的GNU增强版本. Man页使用的就是groff.</p>
<p>tbl表处理工具可以认为是groff的一部分, 它的功能就是将表标记转化到groff命令中.</p>
<p>eqn等式处理工具也是groff的一部分, 它的功能是将等式标记转化到groff命令中.</p>
<h3>二十五. lex, yacc</h3>
<p>lex是用于模式匹配的词汇分析产生程序. 在Linux系统上这个命令已经被flex取代了.</p>
<p>yacc工具基于一系列的语法规范, 产生一个语法分析器. 在Linux系统上这个命令已经被bison取代了.</p>
<h3>二十六. tr</h3>
<p>字符转换过滤器.</p>
