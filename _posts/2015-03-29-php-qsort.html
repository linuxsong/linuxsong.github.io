---
layout: post
status: publish
published: true
title: 快速排序（php实现）
author:
  display_name: LinuxSong
  login: xks
  email: linuxsong@gmail.com
  url: http://www.linuxsong.org
author_login: xks
author_email: linuxsong@gmail.com
author_url: http://www.linuxsong.org
wordpress_id: 556
wordpress_url: http://www.linuxsong.org/?p=556
date: '2015-03-29 17:38:15 +0800'
date_gmt: '2015-03-29 09:38:15 +0800'
comments: []
---
<p>最近在看《程序设计方法》（HTDP，讲解编程思想的经典），看到介绍快速排序的例子，实现思想实在是简练，基本上看完一遍再也不会忘记的感觉。</p>
<p>实现思想：</p>
<p>1.把要排序的内容分成两部分，第一部分是小于第一个元素的，第二部分是大于等于第一个元素的.</p>
<p>2.对分出来的两部分表分别采用1的方法排序。</p>
<p>3.把这些数据连接起来</p>
<p>实现代码（<a title="php" href="http://www.linuxsong.org/category/php/">php</a>实现）：</p>
<p>[code language="php"]</p>
<p>function qsort($arr)<br />
{<br />
    if (count($arr) &lt;= 1)<br />
        return $arr;<br />
    $first = array_shift($arr);<br />
    return array_merge(<br />
        qsort(smallItems($first, $arr)),<br />
        array($first),<br />
        qsort(bigItems($first, $arr)));<br />
}</p>
<p>//找出$arr中所有小于$item的元素<br />
function smallItems($item, $arr)<br />
{<br />
    return array_filter($arr, function($v) use ($item){return $v &lt; $item;});<br />
}</p>
<p>//找出$arr中所有大于$item的元素<br />
function bigItems($item, $arr)<br />
{<br />
    return array_filter($arr, function($v) use ($item){return $v &gt;= $item;});<br />
}</p>
<p>//测试部分</p>
<p>function testQsort()<br />
{<br />
    assert('qsort(array()) === array()');<br />
    assert('qsort(array(1)) === array(1)');<br />
    for ($i=0;$i&lt;100;$i++) {<br />
        $arr = randomArr(rand(0,1000));<br />
        $mySortArr = qsort($arr);<br />
        sort($arr);<br />
        assert('$mySortArr === $arr');<br />
    }<br />
}</p>
<p>//随机生成一个长度为$count的数组，里面的数值随机<br />
function randomArr($count)<br />
{<br />
    $arr = array();<br />
    for($i = 0; $i &lt; $count; $i++) {<br />
        $arr[] = rand(-1000, 1000);<br />
    }</p>
<p>    return $arr;<br />
}<br />
[/code]</p>
<p>算法的思想简单易懂，代码只要根据步骤翻译就好了。</p>
